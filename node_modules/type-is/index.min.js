"use strict";function typeis(e,r){var t,a=r,n=tryNormalizeType(e);if(!n)return!1;if(a&&!Array.isArray(a))for(a=new Array(arguments.length-1),t=0;t<a.length;t++)a[t]=arguments[t+1];if(!a||!a.length)return n;var s;for(t=0;t<a.length;t++)if(mimeMatch(normalize(s=a[t]),n))return"+"===s[0]||-1!==s.indexOf("*")?n:s;return!1}function hasbody(e){return void 0!==e.headers["transfer-encoding"]||!isNaN(e.headers["content-length"])}function typeofrequest(e,r){var t=r;if(!hasbody(e))return null;if(arguments.length>2){t=new Array(arguments.length-1);for(var a=0;a<t.length;a++)t[a]=arguments[a+1]}var n=e.headers["content-type"];return typeis(n,t)}function normalize(e){if("string"!=typeof e)return!1;switch(e){case"urlencoded":return"application/x-www-form-urlencoded";case"multipart":return"multipart/*"}return"+"===e[0]?"*/*"+e:-1===e.indexOf("/")?mime.lookup(e):e}function mimeMatch(e,r){if(e===!1)return!1;var t=r.split("/"),a=e.split("/");return 2!==t.length||2!==a.length?!1:"*"!==a[0]&&a[0]!==t[0]?!1:"*+"===a[1].substr(0,2)?a[1].length<=t[1].length+1&&a[1].substr(1)===t[1].substr(1-a[1].length):"*"!==a[1]&&a[1]!==t[1]?!1:!0}function normalizeType(e){var r=typer.parse(e);return r.parameters=void 0,typer.format(r)}function tryNormalizeType(e){try{return normalizeType(e)}catch(r){return null}}var typer=require("media-typer"),mime=require("mime-types");module.exports=typeofrequest,module.exports.is=typeis,module.exports.hasBody=hasbody,module.exports.normalize=normalize,module.exports.match=mimeMatch;
"use strict";var test=require("tape"),utils=require("../lib/utils");test("merge()",function(e){e.deepEqual(utils.merge({a:"b"},{a:"c"}),{a:["b","c"]},"merges two objects with the same key");var r=utils.merge({foo:"bar"},{foo:{first:"123"}});e.deepEqual(r,{foo:["bar",{first:"123"}]},"merges a standalone and an object into an array");var t=utils.merge({foo:["bar",{first:"123"}]},{foo:{second:"456"}});e.deepEqual(t,{foo:{0:"bar",1:{first:"123"},second:"456"}},"merges a standalone and two objects into an array");var a=utils.merge({foo:["bar",{first:"123",second:"456"}]},{foo:"baz"});e.deepEqual(a,{foo:["bar",{first:"123",second:"456"},"baz"]},"merges an object sandwiched by two standalones into an array");var n=utils.merge({foo:["baz"]},{foo:["bar","xyzzy"]});e.deepEqual(n,{foo:["baz","bar","xyzzy"]}),e.end()});
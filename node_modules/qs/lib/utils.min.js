"use strict";var has=Object.prototype.hasOwnProperty,hexTable=function(){for(var e=[],r=0;256>r;++r)e.push("%"+((16>r?"0":"")+r.toString(16)).toUpperCase());return e}();exports.arrayToObject=function(e,r){for(var t=r&&r.plainObjects?Object.create(null):{},a=0;a<e.length;++a)"undefined"!=typeof e[a]&&(t[a]=e[a]);return t},exports.merge=function(e,r,t){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];(t.plainObjects||t.allowPrototypes||!has.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!=typeof e)return[e].concat(r);var a=e;return Array.isArray(e)&&!Array.isArray(r)&&(a=exports.arrayToObject(e,t)),Array.isArray(e)&&Array.isArray(r)?(r.forEach(function(r,a){has.call(e,a)?e[a]&&"object"==typeof e[a]?e[a]=exports.merge(e[a],r,t):e.push(r):e[a]=r}),e):Object.keys(r).reduce(function(e,a){var n=r[a];return Object.prototype.hasOwnProperty.call(e,a)?e[a]=exports.merge(e[a],n,t):e[a]=n,e},a)},exports.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(r){return e}},exports.encode=function(e){if(0===e.length)return e;for(var r="string"==typeof e?e:String(e),t="",a=0;a<r.length;++a){var n=r.charCodeAt(a);45===n||46===n||95===n||126===n||n>=48&&57>=n||n>=65&&90>=n||n>=97&&122>=n?t+=r.charAt(a):128>n?t+=hexTable[n]:2048>n?t+=hexTable[192|n>>6]+hexTable[128|63&n]:55296>n||n>=57344?t+=hexTable[224|n>>12]+hexTable[128|n>>6&63]+hexTable[128|63&n]:(a+=1,n=65536+((1023&n)<<10|1023&r.charCodeAt(a)),t+=hexTable[240|n>>18]+hexTable[128|n>>12&63]+hexTable[128|n>>6&63]+hexTable[128|63&n])}return t},exports.compact=function(e,r){if("object"!=typeof e||null===e)return e;var t=r||[],a=t.indexOf(e);if(-1!==a)return t[a];if(t.push(e),Array.isArray(e)){for(var n=[],i=0;i<e.length;++i)e[i]&&"object"==typeof e[i]?n.push(exports.compact(e[i],t)):"undefined"!=typeof e[i]&&n.push(e[i]);return n}var s=Object.keys(e);return s.forEach(function(r){e[r]=exports.compact(e[r],t)}),e},exports.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},exports.isBuffer=function(e){return null===e||"undefined"==typeof e?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};
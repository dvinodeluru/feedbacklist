function Mime(){this.types=Object.create(null),this.extensions=Object.create(null)}var path=require("path"),fs=require("fs");Mime.prototype.define=function(e){for(var r in e){for(var t=e[r],a=0;a<t.length;a++)process.env.DEBUG_MIME&&this.types[t]&&console.warn(this._loading.replace(/.*\//,""),'changes "'+t[a]+'" extension type from '+this.types[t]+" to "+r),this.types[t[a]]=r;this.extensions[r]||(this.extensions[r]=t[0])}},Mime.prototype.load=function(e){this._loading=e;var r={},t=fs.readFileSync(e,"ascii"),a=t.split(/[\r\n]+/);a.forEach(function(e){var t=e.replace(/\s*#.*|^\s*|\s*$/g,"").split(/\s+/);r[t.shift()]=t}),this.define(r),this._loading=null},Mime.prototype.lookup=function(e,r){var t=e.replace(/.*[\.\/\\]/,"").toLowerCase();return this.types[t]||r||this.default_type},Mime.prototype.extension=function(e){var r=e.match(/^\s*([^;\s]*)(?:;|\s|$)/)[1].toLowerCase();return this.extensions[r]};var mime=new Mime;mime.define(require("./types.json")),mime.default_type=mime.lookup("bin"),mime.Mime=Mime,mime.charsets={lookup:function(e,r){return/^text\//.test(e)?"UTF-8":r}},module.exports=mime;
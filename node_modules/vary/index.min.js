"use strict";function append(e,r){if("string"!=typeof e)throw new TypeError("header argument is required");if(!r)throw new TypeError("field argument is required");for(var t=Array.isArray(r)?r:parse(String(r)),a=0;a<t.length;a++)if(!FIELD_NAME_REGEXP.test(t[a]))throw new TypeError("field argument contains an invalid header name");if("*"===e)return e;var n=e,s=parse(e.toLowerCase());if(-1!==t.indexOf("*")||-1!==s.indexOf("*"))return"*";for(var i=0;i<t.length;i++){var o=t[i].toLowerCase();-1===s.indexOf(o)&&(s.push(o),n=n?n+", "+t[i]:t[i])}return n}function parse(e){return e.trim().split(ARRAY_SPLIT_REGEXP)}function vary(e,r){if(!e||!e.getHeader||!e.setHeader)throw new TypeError("res argument is required");var t=e.getHeader("Vary")||"",a=Array.isArray(t)?t.join(", "):String(t);(t=append(a,r))&&e.setHeader("Vary",t)}module.exports=vary,module.exports.append=append;var ARRAY_SPLIT_REGEXP=/ *, */,FIELD_NAME_REGEXP=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;
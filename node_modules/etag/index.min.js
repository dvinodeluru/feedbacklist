"use strict";function entitytag(e){if(0===e.length)return'"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk"';var r=crypto.createHash("sha1").update(e,"utf8").digest("base64").replace(base64PadCharRegExp,""),t="string"==typeof e?Buffer.byteLength(e,"utf8"):e.length;return'"'+t.toString(16)+"-"+r+'"'}function etag(e,r){if(null==e)throw new TypeError("argument entity is required");var t=isstats(e),a=r&&"boolean"==typeof r.weak?r.weak:t;if(!t&&"string"!=typeof e&&!Buffer.isBuffer(e))throw new TypeError("argument entity must be string, Buffer, or fs.Stats");var n=t?stattag(e):entitytag(e);return a?"W/"+n:n}function isstats(e){return"function"==typeof Stats&&e instanceof Stats?!0:e&&"object"==typeof e&&"ctime"in e&&"[object Date]"===toString.call(e.ctime)&&"mtime"in e&&"[object Date]"===toString.call(e.mtime)&&"ino"in e&&"number"==typeof e.ino&&"size"in e&&"number"==typeof e.size}function stattag(e){var r=e.mtime.getTime().toString(16),t=e.size.toString(16);return'"'+t+"-"+r+'"'}module.exports=etag;var crypto=require("crypto"),Stats=require("fs").Stats,base64PadCharRegExp=/=+$/,toString=Object.prototype.toString;
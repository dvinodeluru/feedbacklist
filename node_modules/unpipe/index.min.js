"use strict";function hasPipeDataListeners(e){for(var r=e.listeners("data"),t=0;t<r.length;t++)if("ondata"===r[t].name)return!0;return!1}function unpipe(e){if(!e)throw new TypeError("argument stream is required");if("function"==typeof e.unpipe)return void e.unpipe();if(hasPipeDataListeners(e))for(var r,t=e.listeners("close"),a=0;a<t.length;a++)r=t[a],("cleanup"===r.name||"onclose"===r.name)&&r.call(e)}module.exports=unpipe;